var Horyu=window.Horyu||{};Horyu.View=window.Horyu.View||{};
Horyu.View.ApplicantList=function(g){var a=this;a.options=$.extend({columnId:"",columnName:""},g);a.init=function(){a.changeMainContainerWidth();a.updateTable()};a.changeMainContainerWidth=function(){var a=$("#main-container");a.removeClass("container");a.addClass("container-full")};a.updateTable=function(){$("#loading-modal").modal({backdrop:"static",keyboard:!1});$.ajax({type:"POST",url:"./getApplicant",data:{columnId:null===a.options.columnId?void 0:a.options.columnId,columnName:null===a.options.columnName?
void 0:a.options.columnName},timeout:1E4}).done(function(d){$("#loading-modal").modal("hide");Array.isArray(d)?a.updatePagination(d):($("#fail-modal").modal({backdrop:"static",keyboard:!1}),setTimeout(function(){location.reload()},4E3))})};a.updatePagination=function(d){$("#applyCount").text(d.length);$(".table-pagination").pagination({className:"paginationjs-theme-blue paginationjs-big",dataSource:d,pageSize:50,autoHidePrevious:!0,autoHideNext:!0,callback:function(c,e){a.renderTable(c)}});$(".duplicatedBtn").click(function(){var c=
$(this).attr("data-apply-email");a.updateDuplicated(c,!0)});$(".notDuplicatedBtn").click(function(){var c=$(this).attr("data-apply-email");a.updateDuplicated(c,!1)})};a.renderTable=function(a){var c=$(".applicant-list-table").find("tbody");c.empty();a.forEach(function(a){var b=$("\x3ctr\x3e\x3c/tr\x3e").attr("data-apply-email",a.applyEmail);b.append($('\x3ctd class\x3d"apply-time"\x3e').text(a.applyTime));b.append($('\x3ctd class\x3d"apply-email"\x3e').text(a.applyEmail));b.append($('\x3ctd class\x3d"apply-youtubeNickname"\x3e').text(a.youtubeNickname));
b.append($('\x3ctd class\x3d"apply-ipAddress"\x3e').text(a.ipAddress));b.append($('\x3ctd class\x3d"apply-referer"\x3e').text(a.referer));b.append($('\x3ctd class\x3d"apply-userAgent"\x3e').text(a.userAgent));b.append($('\x3ctd class\x3d"apply-fingerprint2"\x3e').text(a.fingerprint2));b.append($('\x3ctd class\x3d"apply-duplicated"\x3e').text(a.duplicated));a.duplicated?(b.addClass("table-warning"),b.append($("\x3ctd\x3e").html($('\x3cbutton type\x3d"button" class\x3d"btn btn-danger btn-sm notDuplicatedBtn"\x3e\uc911\ubcf5 \uc751\ubaa8 \ucc98\ub9ac \ucde8\uc18c\x3c/button\x3e').attr("data-apply-email",
a.applyEmail)))):b.append($("\x3ctd\x3e").html($('\x3cbutton type\x3d"button" class\x3d"btn btn-warning btn-sm duplicatedBtn"\x3e\uc911\ubcf5 \uc751\ubaa8 \ucc98\ub9ac(\ucd94\ucca8 \uc81c\uc678)\x3c/button\x3e').attr("data-apply-email",a.applyEmail)));b.append($('\x3ctd class\x3d"apply-dupCheckAdminName"\x3e').text(a.dupCheckAdminName));c.append(b)})};a.updateDuplicated=function(a,c){$.ajax({type:"POST",url:"./changeDuplicated",data:{applyEmail:a,isDuplicated:c},timeout:1E4}).done(function(){var e=
$("tr[data-apply-email\x3d'"+a+"']"),b=e.find("td:eq(8)"),f=e.find("td:eq(9)");c?(e.addClass("table-warning"),b.text("\uc911\ubcf5 \ucc98\ub9ac\ub428"),f.text("\uc911\ubcf5 \ucc98\ub9ac\ub428")):(e.removeClass("table-warning"),b.text("\uc911\ubcf5 \ucc98\ub9ac \ucde8\uc18c\ub428"),f.text("\uc911\ubcf5 \ucc98\ub9ac \ucde8\uc18c\ub428"))})};return{init:function(){a.init()}}};
//# sourceMappingURL=Horyu.View.ApplicantList.min.js.map